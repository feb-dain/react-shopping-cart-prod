"use strict";(self.webpackChunkreact_shopping_cart_prod=self.webpackChunkreact_shopping_cart_prod||[]).push([[299],{"./src/stories/components/QuantityButton.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Maximum:function(){return Maximum},Medium:function(){return Medium},Minimum:function(){return Minimum},__namedExportsOrder:function(){return __namedExportsOrder}});var _Minimum$parameters,_Minimum$parameters2,_Minimum$parameters2$,_Medium$parameters,_Medium$parameters2,_Medium$parameters2$d,_Maximum$parameters,_Maximum$parameters2,_Maximum$parameters2$,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),meta={component:__webpack_require__("./src/components/cart/QuantityButton.tsx").Z,title:"Components/Cart/QuantityButton",tags:["autodocs"]};__webpack_exports__.default=meta;var Minimum={args:{productId:1,quantity:1},argTypes:{productId:{control:{disable:!0},description:"상품의 고유한 `id`입니다<br>해당 `id`의 `QuantityButton`이 됩니다."},quantity:{control:{type:"number",min:1},description:"상품의 수량을 바꿀 수 있습니다.<br> 수량을 변경하면 상품의 가격도 변경됩니다."}}},Medium={args:{productId:1,quantity:2},argTypes:{productId:{control:{disable:!0},description:"상품의 고유한 `id`입니다<br>해당 `id`의 `QuantityButton`이 됩니다."},quantity:{control:{type:"number",min:1},description:"상품의 수량을 바꿀 수 있습니다.<br> 수량을 변경하면 상품의 가격도 변경됩니다."}}},Maximum={args:{productId:1,quantity:99},argTypes:{productId:{control:{disable:!0},description:"상품의 고유한 `id`입니다<br>해당 `id`의 `QuantityButton`이 됩니다."},quantity:{control:{type:"number",min:1},description:"상품의 수량을 바꿀 수 있습니다.<br> 수량을 변경하면 상품의 가격도 변경됩니다."}}};Minimum.parameters=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},Minimum.parameters),{},{docs:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},null===(_Minimum$parameters=Minimum.parameters)||void 0===_Minimum$parameters?void 0:_Minimum$parameters.docs),{},{source:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({originalSource:"{\n  args: {\n    productId: 1,\n    quantity: 1\n  },\n  argTypes: {\n    productId: {\n      control: {\n        disable: true\n      },\n      description: '상품의 고유한 `id`입니다<br>해당 `id`의 `QuantityButton`이 됩니다.'\n    },\n    quantity: {\n      control: {\n        type: 'number',\n        min: 1\n      },\n      description: '상품의 수량을 바꿀 수 있습니다.<br> 수량을 변경하면 상품의 가격도 변경됩니다.'\n    }\n  }\n}"},null===(_Minimum$parameters2=Minimum.parameters)||void 0===_Minimum$parameters2||null===(_Minimum$parameters2$=_Minimum$parameters2.docs)||void 0===_Minimum$parameters2$?void 0:_Minimum$parameters2$.source)})}),Medium.parameters=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},Medium.parameters),{},{docs:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},null===(_Medium$parameters=Medium.parameters)||void 0===_Medium$parameters?void 0:_Medium$parameters.docs),{},{source:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({originalSource:"{\n  args: {\n    productId: 1,\n    quantity: 2\n  },\n  argTypes: {\n    productId: {\n      control: {\n        disable: true\n      },\n      description: '상품의 고유한 `id`입니다<br>해당 `id`의 `QuantityButton`이 됩니다.'\n    },\n    quantity: {\n      control: {\n        type: 'number',\n        min: 1\n      },\n      description: '상품의 수량을 바꿀 수 있습니다.<br> 수량을 변경하면 상품의 가격도 변경됩니다.'\n    }\n  }\n}"},null===(_Medium$parameters2=Medium.parameters)||void 0===_Medium$parameters2||null===(_Medium$parameters2$d=_Medium$parameters2.docs)||void 0===_Medium$parameters2$d?void 0:_Medium$parameters2$d.source)})}),Maximum.parameters=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},Maximum.parameters),{},{docs:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},null===(_Maximum$parameters=Maximum.parameters)||void 0===_Maximum$parameters?void 0:_Maximum$parameters.docs),{},{source:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({originalSource:"{\n  args: {\n    productId: 1,\n    quantity: 99\n  },\n  argTypes: {\n    productId: {\n      control: {\n        disable: true\n      },\n      description: '상품의 고유한 `id`입니다<br>해당 `id`의 `QuantityButton`이 됩니다.'\n    },\n    quantity: {\n      control: {\n        type: 'number',\n        min: 1\n      },\n      description: '상품의 수량을 바꿀 수 있습니다.<br> 수량을 변경하면 상품의 가격도 변경됩니다.'\n    }\n  }\n}"},null===(_Maximum$parameters2=Maximum.parameters)||void 0===_Maximum$parameters2||null===(_Maximum$parameters2$=_Maximum$parameters2.docs)||void 0===_Maximum$parameters2$?void 0:_Maximum$parameters2$.source)})});var __namedExportsOrder=["Minimum","Medium","Maximum"]},"./src/components/cart/QuantityButton.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _templateObject,_templateObject2,_templateObject3,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),react_icons_bs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-icons/bs/index.esm.js"),recoil__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/recoil/es/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/constants/index.ts"),_hooks_useCart__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/hooks/useCart.ts"),_recoil__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/recoil/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js"),MAX=_constants__WEBPACK_IMPORTED_MODULE_1__.uT.MAX,MIN=_constants__WEBPACK_IMPORTED_MODULE_1__.uT.MIN,STEP=_constants__WEBPACK_IMPORTED_MODULE_1__.uT.STEP,UP=_constants__WEBPACK_IMPORTED_MODULE_1__.Zf.UP,DOWN=_constants__WEBPACK_IMPORTED_MODULE_1__.Zf.DOWN,QuantityButton=function QuantityButton(_ref){var productId=_ref.productId,quantity=_ref.quantity,setQuantity=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.Zl)((0,_recoil__WEBPACK_IMPORTED_MODULE_3__.Ov)(productId)),updateCart=(0,_hooks_useCart__WEBPACK_IMPORTED_MODULE_2__.Q)(productId).updateCart,handleQuantityChange=function handleQuantityChange(quantityLimit,handler){if(quantity!==quantityLimit){var updatedQuantity=handler===UP?quantity+STEP:quantity-STEP;setQuantity(updatedQuantity),updateCart(updatedQuantity)}};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(S.Wrapper,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(S.Button,{quantity:quantity,onClick:function onClick(){return handleQuantityChange(MIN,DOWN)},"aria-label":"button-to-lower-quantity",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_icons_bs__WEBPACK_IMPORTED_MODULE_5__.pZ2,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(S.Quantity,{children:quantity}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(S.Button,{quantity:quantity,onClick:function onClick(){return handleQuantityChange(MAX,UP)},"aria-label":"button-to-raise-quantity",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_icons_bs__WEBPACK_IMPORTED_MODULE_5__.L3d,{})})]})},S={Wrapper:styled_components__WEBPACK_IMPORTED_MODULE_6__.zo.div(_templateObject||(_templateObject=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_7__.Z)(["\n    display: flex;\n    margin: -8px 0 12px;\n\n    @media (max-width: 548px) {\n      margin-bottom: 6px;\n    }\n  "]))),Quantity:styled_components__WEBPACK_IMPORTED_MODULE_6__.zo.span(_templateObject2||(_templateObject2=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_7__.Z)(["\n    display: block;\n    width: 34px;\n    border-top: 1px solid var(--gray-color-200);\n    border-bottom: 1px solid var(--gray-color-200);\n    text-align: center;\n    font-size: 14px;\n    line-height: 30px;\n    cursor: default;\n\n    @media (max-width: 548px) {\n      font-size: 13px;\n    }\n  "]))),Button:styled_components__WEBPACK_IMPORTED_MODULE_6__.zo.button(_templateObject3||(_templateObject3=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_7__.Z)(["\n    width: 26px;\n    max-width: 26px;\n    border: 1px solid var(--gray-color-200);\n    font-size: 16px;\n    background: none;\n    cursor: pointer;\n\n    &[aria-label='button-to-raise-quantity'] {\n      border-left: 0;\n      cursor: ",";\n\n      & > svg {\n        fill: ",";\n      }\n    }\n\n    &[aria-label='button-to-lower-quantity'] {\n      border-right: 0;\n      cursor: ",";\n\n      & > svg {\n        fill: ",";\n      }\n    }\n  "])),(function(props){return props.quantity===MAX&&"default"}),(function(props){return props.quantity===MAX&&"var(--gray-color-100)"}),(function(props){return props.quantity===MIN&&"default"}),(function(props){return props.quantity===MIN&&"var(--gray-color-100)"}))};__webpack_exports__.Z=QuantityButton;try{QuantityButton.displayName="QuantityButton",QuantityButton.__docgenInfo={description:"",displayName:"QuantityButton",props:{productId:{defaultValue:null,description:"",name:"productId",required:!0,type:{name:"number"}},quantity:{defaultValue:null,description:"",name:"quantity",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/cart/QuantityButton.tsx#QuantityButton"]={docgenInfo:QuantityButton.__docgenInfo,name:"QuantityButton",path:"src/components/cart/QuantityButton.tsx#QuantityButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/constants/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{AV:function(){return ONE_ITEM_IN_CART},EO:function(){return MAX_NUMBER_LENGTH},SM:function(){return NOT_NUMBER},Ui:function(){return FIRST_INDEX},WZ:function(){return KEY_CART},Zf:function(){return STEP_HANDLER},_e:function(){return DELIVERY_FEE},u6:function(){return ROUTE_PATH},uT:function(){return QUANTITY}});var ROUTE_PATH={MAIN_PAGE:"/",CART_PAGE:"/cart-page"},KEY_CART="cart",QUANTITY={INITIAL:1,NONE:0,STEP:1,MAX:99,MIN:1},STEP_HANDLER={UP:"UP",DOWN:"DOWN"},NOT_NUMBER=/[^0-9]/g,FIRST_INDEX=0,ONE_ITEM_IN_CART=1,MAX_NUMBER_LENGTH=2,DELIVERY_FEE=3e3},"./src/hooks/useCart.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Q:function(){return useSetCart}});var _home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),recoil__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/recoil/es/index.js"),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/constants/index.ts"),_constants_url__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/constants/url.ts"),_recoil__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/recoil/index.ts"),_useFetchData__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/hooks/useFetchData.ts"),useSetCart=function useSetCart(productId){var _useRecoilState=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.FV)(_recoil__WEBPACK_IMPORTED_MODULE_3__.dl),_useRecoilState2=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__.Z)(_useRecoilState,2),cart=_useRecoilState2[0],setCart=_useRecoilState2[1],selectedProduct=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.sJ)((0,_recoil__WEBPACK_IMPORTED_MODULE_3__.TP)(productId)),server=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.sJ)(_recoil__WEBPACK_IMPORTED_MODULE_3__.vB),api=(0,_useFetchData__WEBPACK_IMPORTED_MODULE_4__.$)().api,findCartItemIndex=function findCartItemIndex(prev){var cart=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_6__.Z)(prev),cartItemIndex=prev.findIndex((function(item){return item.product.id===productId}));return{cart:cart,cartItemIndex:cartItemIndex,alreadyHasCartItem:cartItemIndex>=_constants__WEBPACK_IMPORTED_MODULE_1__.Ui}},findCartItemId=function findCartItemId(){var _cart$find;return null===(_cart$find=cart.find((function(item){return item.product.id===productId})))||void 0===_cart$find?void 0:_cart$find.id},addToCart=function(){var _ref=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__.Z)().mark((function _callee(){var response,location,cartId;return(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,api.post("".concat(server).concat(_constants_url__WEBPACK_IMPORTED_MODULE_2__.fh),{productId:productId});case 3:if(response=_context.sent,location=response.headers.get("location"),cartId=location.replace("".concat(_constants_url__WEBPACK_IMPORTED_MODULE_2__.fh,"/"),""),selectedProduct){_context.next=8;break}return _context.abrupt("return");case 8:setCart((function(prev){return[].concat((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_6__.Z)(prev),[{id:Number(cartId),quantity:_constants__WEBPACK_IMPORTED_MODULE_1__.uT.INITIAL,product:selectedProduct}])})),_context.next=14;break;case 11:_context.prev=11,_context.t0=_context.catch(0),alert(_context.t0);case 14:case"end":return _context.stop()}}),_callee,null,[[0,11]])})));return function addToCart(){return _ref.apply(this,arguments)}}();return{addToCart:addToCart,removeItemFromCart:function removeItemFromCart(){var cartItemId=findCartItemId();api.delete("".concat(server).concat(_constants_url__WEBPACK_IMPORTED_MODULE_2__.fh,"/").concat(cartItemId)).then((function(){setCart((function(prev){var _findCartItemIndex2=findCartItemIndex(prev),cart=_findCartItemIndex2.cart,cartItemIndex=_findCartItemIndex2.cartItemIndex;return _findCartItemIndex2.alreadyHasCartItem?function removeProduct(cart,cartItemIndex){return cartItemIndex>=_constants__WEBPACK_IMPORTED_MODULE_1__.Ui&&cart.splice(cartItemIndex,_constants__WEBPACK_IMPORTED_MODULE_1__.AV),cart}(cart,cartItemIndex):prev}))})).catch((function(error){alert(error.message)}))},updateCart:function updateCart(value){var quantity=value,cartItemId=findCartItemId();api.patch("".concat(server).concat(_constants_url__WEBPACK_IMPORTED_MODULE_2__.fh,"/").concat(cartItemId),{quantity:quantity}).then((function(){setCart((function(prev){var _findCartItemIndex=findCartItemIndex(prev),cart=_findCartItemIndex.cart,cartItemIndex=_findCartItemIndex.cartItemIndex,updatedItem=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},prev[cartItemIndex]),{},{quantity:Number(value)});return cart[cartItemIndex]=updatedItem,cart}))})).catch((function(error){alert(error.message)}))}}}},"./src/hooks/useFetchData.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{$:function(){return useFetchData}});var regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),fetchApi=function(){var _ref=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(url,options){var response,contentType;return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(navigator.onLine){_context.next=2;break}throw new Error("[ERROR] 네트워크가 오프라인 상태입니다.");case 2:return _context.next=4,fetch(url,options);case 4:if((response=_context.sent).ok){_context.next=7;break}throw new Error("[ERROR] 에러가 발생하였습니다.");case 7:if(!(contentType=response.headers.get("content-type"))||!contentType.includes("application/json")){_context.next=12;break}return _context.next=11,response.json();case 11:return _context.abrupt("return",_context.sent);case 12:return _context.abrupt("return",response);case 13:case"end":return _context.stop()}}),_callee)})));return function fetchApi(_x,_x2){return _ref.apply(this,arguments)}}(),useFetchData=function useFetchData(){var _useState=(0,react.useState)(!0),_useState2=(0,slicedToArray.Z)(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1],fetchData=function(){var _ref=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(url,body){var data;return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,fetchApi(url,body);case 3:return data=_context.sent,_context.abrupt("return",data);case 7:throw _context.prev=7,_context.t0=_context.catch(0),_context.t0;case 10:return _context.prev=10,setIsLoading(!1),_context.finish(10);case 13:case"end":return _context.stop()}}),_callee,null,[[0,7,10,13]])})));return function fetchData(_x,_x2){return _ref.apply(this,arguments)}}();return{api:{get:function get(url,headers){return fetchData(url,{method:"GET",headers:headers})},post:function post(url,body){return fetchData(url,{method:"POST",headers:{Authorization:"Basic YUBhLmNvbToxMjM0","Content-Type":"application/json"},body:JSON.stringify(body)})},patch:function patch(url,body){return fetchData(url,{method:"PATCH",headers:{Authorization:"Basic YUBhLmNvbToxMjM0","Content-Type":"application/json"},body:JSON.stringify(body)})},delete:function _delete(url){return fetchData(url,{method:"DELETE",headers:{Authorization:"Basic YUBhLmNvbToxMjM0"}})}},isLoading:isLoading}}},"./src/recoil/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{FU:function(){return checkedItemList},Ov:function(){return quantitySelector},TP:function(){return productSelector},_u:function(){return cartBadgeSelector},dl:function(){return cartState},iH:function(){return totalPriceSelector},vB:function(){return serverState},vh:function(){return productListState}});var _home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),recoil__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/recoil/es/index.js"),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/constants/index.ts"),_constants_url__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/constants/url.ts"),productListState=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.cn)({key:"productListState",default:[]}),productSelector=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.CG)({key:"productSelector",get:function get(id){return function(_ref){return(0,_ref.get)(productListState).find((function(product){return product.id===id}))}}}),cartState=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.cn)({key:"cartState",default:[]}),quantitySelector=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.CG)({key:"quantitySelector",get:function get(id){return function(_ref2){var selectedCartItem=(0,_ref2.get)(cartState).find((function(item){return item.product.id===id}));return selectedCartItem?selectedCartItem.quantity:_constants__WEBPACK_IMPORTED_MODULE_1__.uT.NONE}},set:function set(id){return function(_ref3,newQuantity){var get=_ref3.get,set=_ref3.set,cart=get(cartState),selectedCartItem=cart.find((function(item){return item.product.id===id})),quantity=newQuantity instanceof recoil__WEBPACK_IMPORTED_MODULE_0__.nY?_constants__WEBPACK_IMPORTED_MODULE_1__.uT.INITIAL:newQuantity,newCart=cart.map((function(cartItem){return cartItem===selectedCartItem?(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},cartItem),{},{quantity:quantity}):cartItem}));set(cartState,newCart)}}}),cartBadgeSelector=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.nZ)({key:"cartBadgeSelector",get:function get(_ref4){var cart=(0,_ref4.get)(cartState);return new Set(cart)}}),checkedItemList=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.cn)({key:"checkedItems",default:[]}),totalPriceSelector=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.nZ)({key:"totalPriceSelector",get:function get(_ref5){var _get2=_ref5.get,cart=_get2(cartState),checkedItems=_get2(checkedItemList);return cart.filter((function(item){return checkedItems.includes(item.id)})).reduce((function(acc,cur){return acc+cur.product.price*cur.quantity}),0)}}),serverState=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.cn)({key:"serverState",default:"".concat(_constants_url__WEBPACK_IMPORTED_MODULE_2__.iw["준팍"])})}}]);