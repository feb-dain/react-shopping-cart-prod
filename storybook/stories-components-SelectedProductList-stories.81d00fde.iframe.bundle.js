"use strict";(self.webpackChunkreact_shopping_cart_prod=self.webpackChunkreact_shopping_cart_prod||[]).push([[334],{"./src/stories/components/SelectedProductList.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{NothingInCart:function(){return NothingInCart},ProductListInCart:function(){return ProductListInCart},__namedExportsOrder:function(){return __namedExportsOrder}});var _ProductListInCart$pa,_ProductListInCart$pa2,_ProductListInCart$pa3,_NothingInCart$parame,_NothingInCart$parame2,_NothingInCart$parame3,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),recoil__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/recoil/es/index.js"),_components_cart_SelectedProductList__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/cart/SelectedProductList.tsx"),_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/constants/index.ts"),_recoil__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/recoil/index.ts"),_utils_getAndSetDataInLocalStorage__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/utils/getAndSetDataInLocalStorage.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),meta={component:_components_cart_SelectedProductList__WEBPACK_IMPORTED_MODULE_2__.Z,title:"Components/Cart/SelectedProductList",tags:["autodocs"]};__webpack_exports__.default=meta;var ProductListInCart=function ProductListInCart(){return localStorage.clear(),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){(0,_utils_getAndSetDataInLocalStorage__WEBPACK_IMPORTED_MODULE_6__.f)(_constants__WEBPACK_IMPORTED_MODULE_3__.WZ,[{id:1,quantity:1,product:{id:1,name:"PET보틀-정사각(420ml)",price:43400,imageUrl:"/assets/product1.svg"}},{id:2,quantity:4,product:{id:2,name:"PET보틀-밀크티(370ml)",price:73400,imageUrl:"/assets/product2.svg"}}])}),[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_components_cart_SelectedProductList__WEBPACK_IMPORTED_MODULE_2__.Z,{})},NothingInCart=function NothingInCart(){var setCart=(0,recoil__WEBPACK_IMPORTED_MODULE_1__.Zl)(_recoil__WEBPACK_IMPORTED_MODULE_4__.dl),setCheckedItems=(0,recoil__WEBPACK_IMPORTED_MODULE_1__.Zl)(_recoil__WEBPACK_IMPORTED_MODULE_4__.FU);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){setCart([]),setCheckedItems([])}),[setCart,setCheckedItems]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_components_cart_SelectedProductList__WEBPACK_IMPORTED_MODULE_2__.Z,{})};ProductListInCart.parameters=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},ProductListInCart.parameters),{},{docs:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},null===(_ProductListInCart$pa=ProductListInCart.parameters)||void 0===_ProductListInCart$pa?void 0:_ProductListInCart$pa.docs),{},{source:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({originalSource:"() => {\n  localStorage.clear();\n  useEffect(() => {\n    const cart = [{\n      id: 1,\n      quantity: 1,\n      product: {\n        id: 1,\n        name: 'PET보틀-정사각(420ml)',\n        price: 43400,\n        imageUrl: '/assets/product1.svg'\n      }\n    }, {\n      id: 2,\n      quantity: 4,\n      product: {\n        id: 2,\n        name: 'PET보틀-밀크티(370ml)',\n        price: 73400,\n        imageUrl: '/assets/product2.svg'\n      }\n    }];\n    setDataInLocalStorage(KEY_CART, cart);\n  }, []);\n  return <SelectedProductList />;\n}"},null===(_ProductListInCart$pa2=ProductListInCart.parameters)||void 0===_ProductListInCart$pa2||null===(_ProductListInCart$pa3=_ProductListInCart$pa2.docs)||void 0===_ProductListInCart$pa3?void 0:_ProductListInCart$pa3.source)})}),NothingInCart.parameters=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},NothingInCart.parameters),{},{docs:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},null===(_NothingInCart$parame=NothingInCart.parameters)||void 0===_NothingInCart$parame?void 0:_NothingInCart$parame.docs),{},{source:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({originalSource:"() => {\n  const setCart = useSetRecoilState(cartState);\n  const setCheckedItems = useSetRecoilState<number[]>(checkedItemList);\n  useEffect(() => {\n    setCart([]);\n    setCheckedItems([]);\n  }, [setCart, setCheckedItems]);\n  return <SelectedProductList />;\n}"},null===(_NothingInCart$parame2=NothingInCart.parameters)||void 0===_NothingInCart$parame2||null===(_NothingInCart$parame3=_NothingInCart$parame2.docs)||void 0===_NothingInCart$parame3?void 0:_NothingInCart$parame3.source)})});var __namedExportsOrder=["ProductListInCart","NothingInCart"]},"./src/components/Spinner.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _templateObject,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),S={Svg:styled_components__WEBPACK_IMPORTED_MODULE_1__.zo.svg(_templateObject||(_templateObject=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_2__.Z)(["\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    width: 100px;\n    height: 100px;\n    transform: translate(-50%, -50%);\n  "])))};__webpack_exports__.Z=function Spinner(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(S.Svg,{version:"1.1",id:"L9",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100",enableBackground:"new 0 0 0 0",xmlSpace:"preserve",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{fill:"#000",d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})})})}},"./src/components/cart/SelectedProductList.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return cart_SelectedProductList}});var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/recoil/es/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),url=__webpack_require__("./src/constants/url.ts"),useFetchData=__webpack_require__("./src/hooks/useFetchData.ts"),recoil=__webpack_require__("./src/recoil/index.ts"),Button=__webpack_require__("./src/components/common/Button.tsx"),CheckboxStyle=__webpack_require__("./src/components/common/CheckboxStyle.tsx"),Spinner=__webpack_require__("./src/components/Spinner.tsx"),SelectedProductItem=__webpack_require__("./src/components/cart/SelectedProductItem.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),S={Wrapper:styled_components_browser_esm.zo.section(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n    width: 100%;\n    max-width: 736px;\n    font-size: 18px;\n    color: var(--text-color);\n  "]))),Title:styled_components_browser_esm.zo.h3(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.Z)(["\n    padding-bottom: 24px;\n    border-bottom: 2px solid var(--gray-color-300);\n\n    & + div {\n      height: 410px;\n      max-height: 410px;\n      overflow-y: auto;\n\n      /* Scroll bar */\n      &::-webkit-scrollbar {\n        width: 5px;\n      }\n      &::-webkit-scrollbar-thumb {\n        border-radius: 8px;\n        background: var(--text-color);\n      }\n      &::-webkit-scrollbar-track {\n        border-radius: 8px;\n        background: var(--gray-color-100);\n      }\n      &::-webkit-scrollbar-button:start:decrement,\n      &::-webkit-scrollbar-button:end:increment {\n        display: block;\n        height: 6px;\n        background: #fff;\n      }\n\n      @media (max-width: 420px) {\n        padding: 0 10px;\n      }\n    }\n  "]))),Nothing:styled_components_browser_esm.zo.img(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.Z)(["\n    display: block;\n    width: 50%;\n    margin: 0 auto;\n\n    @media (max-width: 768px) {\n      width: 100%;\n    }\n  "]))),Fieldset:styled_components_browser_esm.zo.fieldset(_templateObject4||(_templateObject4=(0,taggedTemplateLiteral.Z)(["\n    display: flex;\n    align-items: center;\n    padding: 36px 0 48px;\n    font-size: 16px;\n\n    @media (max-width: 548px) {\n      font-size: 14px;\n      padding: 20px 0 0;\n    }\n  "])))},deleteButtonStyle=(0,styled_components_browser_esm.iv)(_templateObject5||(_templateObject5=(0,taggedTemplateLiteral.Z)(["\n  margin-left: 20px;\n  padding: 6px 12px 7px;\n  background: none;\n  border: 1px solid var(--gray-color-100);\n\n  @media (max-width: 548px) {\n    margin-left: 12px;\n  }\n"]))),cart_SelectedProductList=function SelectedProductList(){var _useRecoilState=(0,es.FV)(recoil.dl),_useRecoilState2=(0,slicedToArray.Z)(_useRecoilState,2),cart=_useRecoilState2[0],setCart=_useRecoilState2[1],_useRecoilState3=(0,es.FV)(recoil.FU),_useRecoilState4=(0,slicedToArray.Z)(_useRecoilState3,2),checkedItems=_useRecoilState4[0],setCheckedItems=_useRecoilState4[1],removeCheckedItemsFromCart=function useRemoveCheckedItemsFromCart(checkedItemIdList){var setCart=(0,es.Zl)(recoil.dl),server=(0,es.sJ)(recoil.vB),api=(0,useFetchData.$)().api;return function removeCheckedItemsFromCart(){checkedItemIdList.forEach((function(id){return api.delete("".concat(server).concat(url.fh,"/").concat(id))})),setCart((function(prev){return prev.filter((function(item){return!checkedItemIdList.includes(item.id)}))}))}}(checkedItems),server=(0,es.sJ)(recoil.vB),_useFetchData=(0,useFetchData.$)(),api=_useFetchData.api,isLoading=_useFetchData.isLoading,initialCheckedItems=cart.map((function(item){return item.id}));(0,react.useEffect)((function(){setCheckedItems(initialCheckedItems)}),[]),(0,react.useEffect)((function(){api.get("".concat(server).concat(url.fh),{Authorization:"Basic YUBhLmNvbToxMjM0","Content-Type":"application/json"}).then((function(data){setCart(data)}))}),[server]);var productCountInCart=cart.length,isAllChecked=checkedItems.length===productCountInCart&&0!==productCountInCart;return isLoading?(0,jsx_runtime.jsx)(Spinner.Z,{}):(0,jsx_runtime.jsxs)(S.Wrapper,{children:[(0,jsx_runtime.jsx)(S.Title,{children:"든든배송 상품 (".concat(productCountInCart,"개)")}),0===productCountInCart?(0,jsx_runtime.jsx)(S.Nothing,{src:"".concat(".","/assets/nothing.png"),alt:"장바구니가 텅 비었어요"}):(0,jsx_runtime.jsx)("div",{children:cart.map((function(item){return(0,jsx_runtime.jsx)(SelectedProductItem.Z,{id:item.id,productId:item.product.id,name:item.product.name,price:item.product.price,imageUrl:item.product.imageUrl,quantity:item.quantity},item.product.id)}))}),(0,jsx_runtime.jsxs)(S.Fieldset,{children:[(0,jsx_runtime.jsx)(CheckboxStyle.X,{type:"checkbox",id:"select-all",name:"select-all",checked:isAllChecked,onChange:function handleAllItemsCheck(){setCheckedItems(isAllChecked?[]:initialCheckedItems)}}),(0,jsx_runtime.jsx)("label",{htmlFor:"select-all",children:"전체선택 (".concat(checkedItems.length,"/").concat(productCountInCart,")")}),(0,jsx_runtime.jsx)(Button.Z,{css:deleteButtonStyle,onClick:function handleCheckedItemRemove(){removeCheckedItemsFromCart(),setCheckedItems([])},children:"선택삭제"})]})]})}},"./src/utils/getAndSetDataInLocalStorage.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{f:function(){return setDataInLocalStorage}});var setDataInLocalStorage=function setDataInLocalStorage(key,data){localStorage.setItem(key,JSON.stringify(data))}}}]);