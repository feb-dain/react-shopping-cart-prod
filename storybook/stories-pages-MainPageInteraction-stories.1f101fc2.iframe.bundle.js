(self.webpackChunkreact_shopping_cart_prod=self.webpackChunkreact_shopping_cart_prod||[]).push([[509],{"./src/stories/pages/MainPageInteraction.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SuccessInteraction:function(){return SuccessInteraction},__namedExportsOrder:function(){return __namedExportsOrder}});var _SuccessInteraction$p,_SuccessInteraction$p2,_SuccessInteraction$p3,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_storybook_jest__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/jest/dist/esm/index.js"),_storybook_testing_library__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/testing-library/dist/esm/index.js"),_pages_MainPage__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/pages/MainPage.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Pages/MainPage"};var _play,TYPING_SPEED={delay:500},pause=function pause(){return new Promise((function(resolve){return setTimeout(resolve,2e3)}))},SuccessInteraction={render:function render(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_pages_MainPage__WEBPACK_IMPORTED_MODULE_2__.Z,{})},play:(_play=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__.Z)().mark((function _callee5(_ref){var canvasElement,step,canvas,purchaseProduct;return(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__.Z)().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return canvasElement=_ref.canvasElement,step=_ref.step,canvas=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_1__.uh)(canvasElement),localStorage.clear(),purchaseProduct=function purchaseProduct(productOrder){var selectedCartIconButton=canvas.getAllByLabelText("cart-icon-button")[productOrder];return(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_0__.l)(selectedCartIconButton).toBeVisible(),selectedCartIconButton},_context5.next=6,step("Purchase Product",(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__.Z)().mark((function _callee(){return(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_1__.X_)((function(){localStorage.clear();var secondCartIconButton=purchaseProduct(1);_storybook_testing_library__WEBPACK_IMPORTED_MODULE_1__.mV.click(secondCartIconButton)}));case 2:case"end":return _context.stop()}}),_callee)}))));case 6:return _context5.next=8,pause();case 8:return _context5.next=10,step("Raise Quantity",(function(){var quantityInputButton=_storybook_testing_library__WEBPACK_IMPORTED_MODULE_1__.sp.getByRole("spinbutton");(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_0__.l)(quantityInputButton).toBeInTheDocument();var quantityInput=_storybook_testing_library__WEBPACK_IMPORTED_MODULE_1__.sp.getByLabelText("quantity-input");(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_0__.l)(quantityInput).toHaveValue(1),_storybook_testing_library__WEBPACK_IMPORTED_MODULE_1__.mV.clear(quantityInput),_storybook_testing_library__WEBPACK_IMPORTED_MODULE_1__.mV.type(quantityInput,"12",TYPING_SPEED)}));case 10:return _context5.next=12,pause();case 12:return _context5.next=14,step("Purchase Another Product",(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__.Z)().mark((function _callee2(){return(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__.Z)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return window.scrollTo({top:900,behavior:"smooth"}),_context2.next=3,(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_1__.X_)((function(){var ninthCartIconButton=purchaseProduct(7);_storybook_testing_library__WEBPACK_IMPORTED_MODULE_1__.mV.click(ninthCartIconButton)}));case 3:case"end":return _context2.stop()}}),_callee2)}))));case 14:return _context5.next=16,pause();case 16:return _context5.next=18,step("Purchase Another Product",(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__.Z)().mark((function _callee3(){return(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__.Z)().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_1__.X_)((function(){window.scrollTo({top:0,behavior:"smooth"})}));case 2:return _context3.next=4,(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_1__.X_)((function(){var firstCartIcon=purchaseProduct(0);_storybook_testing_library__WEBPACK_IMPORTED_MODULE_1__.mV.click(firstCartIcon)}));case 4:case"end":return _context3.stop()}}),_callee3)}))));case 18:return _context5.next=20,pause();case 20:return _context5.next=22,step("Cancel Purchasing Product",(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__.Z)().mark((function _callee4(){return(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__.Z)().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_1__.X_)((function(){var firstInput=_storybook_testing_library__WEBPACK_IMPORTED_MODULE_1__.sp.getAllByLabelText("quantity-input")[0];(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_0__.l)(firstInput).toBeInTheDocument(),_storybook_testing_library__WEBPACK_IMPORTED_MODULE_1__.mV.clear(firstInput),_storybook_testing_library__WEBPACK_IMPORTED_MODULE_1__.mV.type(firstInput,"0",TYPING_SPEED)}));case 2:case"end":return _context4.stop()}}),_callee4)}))));case 22:localStorage.clear();case 23:case"end":return _context5.stop()}}),_callee5)}))),function play(_x){return _play.apply(this,arguments)})};SuccessInteraction.parameters=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},SuccessInteraction.parameters),{},{docs:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},null===(_SuccessInteraction$p=SuccessInteraction.parameters)||void 0===_SuccessInteraction$p?void 0:_SuccessInteraction$p.docs),{},{source:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({originalSource:"{\n  render: () => <MainPage />,\n  play: async ({\n    canvasElement,\n    step\n  }) => {\n    const canvas = within(canvasElement);\n    localStorage.clear();\n    const purchaseProduct = (productOrder: number) => {\n      const allCartIconButtons = canvas.getAllByLabelText('cart-icon-button');\n      const selectedCartIconButton = allCartIconButtons[productOrder];\n      expect(selectedCartIconButton).toBeVisible();\n      return selectedCartIconButton;\n    };\n    await step('Purchase Product', async () => {\n      await waitFor(() => {\n        localStorage.clear();\n        const secondCartIconButton = purchaseProduct(1);\n        userEvent.click(secondCartIconButton);\n      });\n    });\n    await pause();\n    await step('Raise Quantity', () => {\n      const quantityInputButton = screen.getByRole('spinbutton');\n      expect(quantityInputButton).toBeInTheDocument();\n      const quantityInput = screen.getByLabelText('quantity-input');\n      expect(quantityInput).toHaveValue(1);\n      userEvent.clear(quantityInput);\n      userEvent.type(quantityInput, '12', TYPING_SPEED);\n    });\n    await pause();\n    await step('Purchase Another Product', async () => {\n      window.scrollTo({\n        top: 900,\n        behavior: 'smooth'\n      });\n      await waitFor(() => {\n        const ninthCartIconButton = purchaseProduct(7);\n        userEvent.click(ninthCartIconButton);\n      });\n    });\n    await pause();\n    await step('Purchase Another Product', async () => {\n      await waitFor(() => {\n        window.scrollTo({\n          top: 0,\n          behavior: 'smooth'\n        });\n      });\n      await waitFor(() => {\n        const firstCartIcon = purchaseProduct(0);\n        userEvent.click(firstCartIcon);\n      });\n    });\n    await pause();\n    await step('Cancel Purchasing Product', async () => {\n      await waitFor(() => {\n        const quantityInputs = screen.getAllByLabelText('quantity-input');\n        const firstInput = quantityInputs[0];\n        expect(firstInput).toBeInTheDocument();\n        userEvent.clear(firstInput);\n        userEvent.type(firstInput, '0', TYPING_SPEED);\n      });\n    });\n    localStorage.clear();\n  }\n}"},null===(_SuccessInteraction$p2=SuccessInteraction.parameters)||void 0===_SuccessInteraction$p2||null===(_SuccessInteraction$p3=_SuccessInteraction$p2.docs)||void 0===_SuccessInteraction$p3?void 0:_SuccessInteraction$p3.source)})});var __namedExportsOrder=["SuccessInteraction"]},"./src/components/common/Header.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return common_Header}});var _templateObject,_templateObject2,_templateObject3,ServerSelector_templateObject,ServerSelector_templateObject2,Header_templateObject,Header_templateObject2,Header_templateObject3,taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),constants=__webpack_require__("./src/constants/index.ts"),dist=__webpack_require__("./node_modules/react-router/dist/index.js"),useGoToAnotherPage=function useGoToAnotherPage(){var navigator=(0,dist.s0)(),location=(0,dist.TH)().pathname;return function goToPage(path){location!==path&&navigator(path)}},react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/recoil/es/index.js"),recoil=__webpack_require__("./src/recoil/index.ts"),getAndSetDataInLocalStorage=__webpack_require__("./src/utils/getAndSetDataInLocalStorage.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),S={Wrapper:styled_components_browser_esm.zo.div(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n    display: flex;\n    align-items: center;\n  "]))),Button:styled_components_browser_esm.zo.button(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.Z)(["\n    padding: 0;\n    margin-right: 8px;\n    font-size: 18px;\n    font-weight: 500;\n    background: none;\n    color: #fff;\n    cursor: pointer;\n  "]))),Badge:styled_components_browser_esm.zo.span(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.Z)(["\n    width: 24px;\n    height: 24px;\n    background: var(--highlight-color);\n    border-radius: 50%;\n    font-size: 13px;\n    font-weight: 400;\n    text-align: center;\n    line-height: 24px;\n    color: #fff;\n  "])))},components_Cart=function Cart(){var goToPage=useGoToAnotherPage(),selectedProducts=(0,es.sJ)(recoil._u),cart=(0,es.sJ)(recoil.dl);return(0,react.useEffect)((function(){(0,getAndSetDataInLocalStorage.f)(constants.WZ,cart)}),[cart]),(0,jsx_runtime.jsxs)(S.Wrapper,{children:[(0,jsx_runtime.jsx)(S.Button,{onClick:function onClick(){return goToPage(constants.mD.CART_PAGE)},children:"장바구니"}),(0,jsx_runtime.jsx)(S.Badge,{role:"status","aria-label":"장바구니에 담긴 상품 종류의 수",children:selectedProducts.size})]})},CartIcon=__webpack_require__("./src/components/icons/CartIcon.tsx"),ServerSelector_S={List:styled_components_browser_esm.zo.select(ServerSelector_templateObject||(ServerSelector_templateObject=(0,taggedTemplateLiteral.Z)(["\n    margin-left: auto;\n    margin-right: 16px;\n    padding: 6px 12px;\n    font-weight: 500;\n    font-size: 14px;\n    cursor: pointer;\n  "]))),Server:styled_components_browser_esm.zo.li(ServerSelector_templateObject2||(ServerSelector_templateObject2=(0,taggedTemplateLiteral.Z)(["\n    align-self: center;\n  "])))},components_ServerSelector=function ServerSelector(){var setServer=(0,es.Zl)(recoil.vB);return(0,jsx_runtime.jsxs)(ServerSelector_S.List,{onChange:function handleSeverChange(_ref){var value=_ref.target.value;setServer(constants.iw[value])},children:[(0,jsx_runtime.jsx)("option",{value:"준팍",children:"준팍"}),(0,jsx_runtime.jsx)("option",{value:"도이",children:"도이"}),(0,jsx_runtime.jsx)("option",{value:"우르",children:"우르"})]})},Header=function Header(_ref){var title=_ref.title,goToPage=useGoToAnotherPage();return(0,jsx_runtime.jsx)(Header_S.Header,{children:(0,jsx_runtime.jsxs)(Header_S.Wrapper,{children:[(0,jsx_runtime.jsxs)(Header_S.Button,{onClick:function onClick(){return goToPage(constants.mD.MAIN_PAGE)},children:[(0,jsx_runtime.jsx)(CartIcon.Z,{"aria-label":"logo-cart-icon"}),(0,jsx_runtime.jsx)("span",{children:title})]}),(0,jsx_runtime.jsx)(components_ServerSelector,{}),(0,jsx_runtime.jsx)(components_Cart,{})]})})},Header_S={Header:styled_components_browser_esm.ZP.header(Header_templateObject||(Header_templateObject=(0,taggedTemplateLiteral.Z)(["\n    width: 100%;\n    height: 80px;\n    margin-bottom: 62px;\n    background: var(--text-color);\n    font-size: 34px;\n    font-weight: 900;\n    line-height: 80px;\n    letter-spacing: 0.2px;\n\n    & svg {\n      width: 44px;\n      height: 36px;\n      margin-right: 20px;\n      fill: #fff;\n    }\n\n    @media (max-width: 768px) {\n      font-size: 28px;\n\n      & svg {\n        width: 40px;\n        margin-right: 16px;\n      }\n    }\n\n    @media (max-width: 480px) {\n      font-size: 24px;\n\n      & svg {\n        align-self: center;\n        width: 34px;\n        margin-right: 8px;\n        padding: 2px;\n      }\n    }\n  "]))),Button:styled_components_browser_esm.ZP.button(Header_templateObject2||(Header_templateObject2=(0,taggedTemplateLiteral.Z)(["\n    color: #fff;\n    background: none;\n    cursor: pointer;\n\n    @media (max-width: 480px) {\n      display: flex;\n    }\n  "]))),Wrapper:styled_components_browser_esm.ZP.div(Header_templateObject3||(Header_templateObject3=(0,taggedTemplateLiteral.Z)(["\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    max-width: 1270px;\n    margin: 0 auto;\n    padding: 0 20px;\n  "])))},common_Header=Header;try{Header.displayName="Header",Header.__docgenInfo={description:"",displayName:"Header",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/common/Header.tsx#Header"]={docgenInfo:Header.__docgenInfo,name:"Header",path:"src/components/common/Header.tsx#Header"})}catch(__react_docgen_typescript_loader_error){}},"./src/pages/MainPage.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return pages_MainPage}});var _templateObject,Header=__webpack_require__("./src/components/common/Header.tsx"),taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/recoil/es/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),useFetchData=__webpack_require__("./src/hooks/useFetchData.ts"),recoil=__webpack_require__("./src/recoil/index.ts"),ProductItem=__webpack_require__("./src/components/main/ProductItem.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),S={Wrapper:styled_components_browser_esm.zo.main(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    gap: 86px 4%;\n    max-width: 1270px;\n    margin: 0 auto;\n    padding: 0 20px 120px;\n\n    @media (max-width: 1270px) {\n      grid-template-columns: repeat(3, 1fr);\n    }\n\n    @media (max-width: 768px) {\n      grid-template-columns: repeat(2, 1fr);\n    }\n\n    @media (max-width: 480px) {\n      grid-template-columns: repeat(1, 1fr);\n    }\n  "])))},main_ProductList=function ProductList(){var _useRecoilState=(0,es.FV)(recoil.vh),_useRecoilState2=(0,slicedToArray.Z)(_useRecoilState,2),productList=_useRecoilState2[0],setProductList=_useRecoilState2[1],server=(0,es.sJ)(recoil.vB),_useFetchData=(0,useFetchData.$)(setProductList),api=_useFetchData.api,isLoading=_useFetchData.isLoading;return(0,react.useEffect)((function(){api.get("".concat(server,"/products"))}),[]),(0,jsx_runtime.jsx)(S.Wrapper,{children:isLoading?(0,jsx_runtime.jsx)("p",{children:"로딩중..."}):productList.map((function(product){return(0,jsx_runtime.jsx)(ProductItem.Z,{id:product.id,name:product.name,price:product.price,imageUrl:product.imageUrl},product.id)}))})},pages_MainPage=function MainPage(){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Header.Z,{title:"STORE"}),(0,jsx_runtime.jsx)(main_ProductList,{})]})}},"?4f7e":function(){}}]);